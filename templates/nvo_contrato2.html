{% extends "layout.html" %}
{% block content %}

<head>
    <title>HOME-INT</title>
</head>
<body style="background-color:#D5DBDB;">
<br>


<h2>Contrato</h2>
    <script type="text/javascript" src="/static/js/jquery-3.2.1.slim.min.js"></script>
    <script type="text/javascript" src="/static/js/popper.min.js"></script>
    <script type="text/javascript" src="/static/js/bootstrap.min.js"></script>

    <div class="form-row">
        <div class="form-group col-md-2">
            <label for="curp">CURP</label>
        <input minlength="18" maxlength="18" type="text" class="form-control" name="curp" id="curp" value="{{empleados.0[0]}}" disabled pattern="([A-Z]{4,})+([0-9]{6,})+([A-Z]{6,})+([0-9]{2,})">
        </div>
        <div class="form-group col-md-9">
            <label for="nombre">AP. Paterno    Ap.Materno    Nombre(s)</label>
            <input type="text" class="form-control" name="nombre" id="nombre" value="{{empleados.0[2]}}" disabled>
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-7">
            <label for="domicilio">Domicilio</label>
            <input type="text" class="form-control" name="domicilio" id="domicilio" value="{{empleados.0[3]}}" disabled>
        </div>
        <div class="form-group col-md-4">
            <label for="rfc">RFC</label>
            <input  minlength="13" maxlength="13" type="text" class="form-control" name="rfc" id="rfc" placeholder="0101010101" value="{{empleados.0[1]}}" disabled pattern="([A-Z]{4,})+([0-9]{6,})+([A-Z0-9]{3,})">
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-2">
            <label for="telefono">Telefono</label>
        <input minlength="10" maxlength="10" type="text" class="form-control" name="telefono" id="telefono" value="{{empleados.0[4]}}" placeholder="000000.00" pattern="[0-9.]+" disabled>
        </div>
        <div class="form-group col-md-3">
            <label for="correoe">Correo Electronico</label>
            <input type="email" class="form-control" name="correoe" id="correoe" value="{{empleados.0[5]}}" disabled>
        </div>

        <div class="form-group col-md-1">
            <label for="edad">Edad</label>
        <input type="text" class="form-control" name="edad" id="edad" value="{{empleados.0[7]}}" placeholder="00" pattern="[0-9.]+" disabled>
        </div>
        <div class="form-group col-md-1">
            <label for="nss">N.S.S</label>
            <input type="text" class="form-control" name="nss" id="nss" value="{{empleados.0[8]}}" placeholder="000000.00" pattern="[0-9.]+" disabled>
        </div>
        <div class="form-group col-md-2">
            <label for="sexo">Sexo</label>
            <select name="sexo" id="sexo" class="form-control" disabled>
                {% if empleados.0[6] == "M" %}
                  <option value="M">Masculino</option>
                  <option value="F">Femenino</option>
                {% else %}
                   <option value="F">Femenino</option>
                   <option value="M">Masculino</option>
                {% endif %}


            </select>
        </div>
        <div class="form-group col-md-2">
            <label for="edociv">E. Civil</label>
            <select name="edociv" id="edociv" class="form-control" disabled>
              {% if empleados.0[9]==1 %}
                <option value="1">Soltero/a</option>
                <option value="2">Casado/a</option>
                <option value="3">Union Libre</option>
                <option value="4">Divorcio</option>
              {% else %}
                {% if empleados.0[9]==2 %}
                  <option value="2">Casado/a</option>
                  <option value="1">Soltero/a</option>
                  <option value="3">Union Libre</option>
                  <option value="4">Divorcio</option>
                {% else %}
                  {% if empleados.0[9]==3 %}
                    <option value="3">Union Libre</option>
                    <option value="1">Soltero/a</option>
                    <option value="2">Casado/a</option>
                    <option value="4">Divorcio</option>
                  {% else %}
                  <option value="4">Divorcio</option>
                  <option value="1">Soltero/a</option>
                  <option value="2">Casado/a</option>
                  <option value="3">Union Libre/</option>
                  {% endif %}
                {% endif %}
              {% endif %}

          </select>
        </div>
    </div>

    <div class="form-row">
            <div class="form-group col-md-9">
                    <label for="nomcoy">Conyugue_concubino(nombre de esposa)</label>
                <input type="text" class="form-control" name="nomcoy" id="nomcoy" value="{{empleados.0[10]}}" disabled>
            </div>


            <div class="form-group col-md-9">
                <label for="nomcaux">Nombre de contacto</label>
                <input type="text" class="form-control" name="nomcaux" id="nomcaux" value="{{empleados.0[12]}}" disabled>
            </div>

            <div class="form-group col-md-2">
                <label for="telaux">Telefono de contacto</label>
            <input type="text" class="form-control" name="telaux" id="telaux" value="{{empleados.0[11]}}" disabled>
            </div>


        <div class="form-group col-md-4">
                <label for="numinfonavit">Numero de infonavit</label>
                <input type="text" class="form-control" name="numinfonavit" id="numinfonavit"  value="{{empleados.0[13]}}" disabled>
        </div>
    </div>
    {% for empleado in empleados %}
      <a href="/ed_empleado/{{ empleado.0 }}" class="btn btn-success" style="background:lightseagreen;">Editar Perfil</a></center>
      <a href="/contrato" class="btn btn-success" style="background:lightseagreen;">Regresar</a></center>
    </td>
  </tr>
  {% endfor %}
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <br>
  <br>
<form action="/agr_nvo_contrato/{{'Si'}}" method="POST">   
    <div class=form-row>
        <input minlength="18" maxlength="18" type="text" class="form-control" name="curp" id="curp" value="{{empleados.0[0]}}" hidden>
        <div class="form-group col-md-4">
            <label for="idpuesto">Puesto</label>
            <select name="idpuesto" id="idpuesto" class="form-control">
                 <option value="" selected>Choose...</option>
                    {%
                         for puesto in puestos
                    %}
                        <option value="{{ puesto.0 }}">{{ puesto.1 }}</option>
                    {%   endfor %}
            </select>
        </div>
        <div class="form-group col-md-4">
            <label for="id_area">√Årea</label>
            <select name="id_area" id="id_area" class="form-control">
                <option value="" selected>Choose...</option>
                    {%
                        for area in areas
                    %}
                        <option value="{{ area.0 }}">{{ area.1 }}</option>
                    {%   endfor %}
            </select>
        </div>
        <div class="form-group col-md-2">
            <label for="salario">Salario Mensual</label>
            <input type="text" class="form-control" name="salario" id="salario" placeholder="" value="" required>
        </div>
        <div class="form-group col-md-2">
            <label for="diapaga">Dias de paga</label>
            <input type="text" class="form-control" name="diapaga" id="diapaga" required>
        </div>

    </div>
   
        <div class=form-row>

        <div class="form-group col-md-2">
            <label for="fecha_inicio">Fecha de inicio</label>
            <input type="date" class="form-control" name="fecha_inicio" id="fecha_inicio" required>
            
        </div>

        <div class="form-group col-md-2">
            <label for="fecha_fin">Fecha de conclusion</label>
            <input type="date" class="form-control" name="fecha_fin" id="fecha_fin" required>
        </div>

        <div class="form-group col-md-2">
            <label for="jornada">Jornada</label>
            <select class="form-control" id="country" name="country" required>
                <option selected>Chosse...</option>
                {% for row in jornada %}
                <option value="{{row.IdJornada}}">{{row.jornombre}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group col-md-2">
                <label for="hsemana">Horas a la semana</label>
                <select class="form-control" id="state" name="state" required></select>
            
        </div>
        <div class="form-group col-md-2">
            <label for="dias">Horario</label>
            <input type="text" class="form-control" name="dias" id="dias" required>

            
        </div>

    </div>
    <input type="submit" class="btn btn-primary" style="background-color:lightseagreen!important"> 
</form>
    <script>
    country_select = document.getElementById('country');
    state_select = document.getElementById('state');
    
    
    country_select.onchange = function(){
        country = country_select.value;
        alert(country);
        fetch('state/' + country).then(function(response){
        response.json().then(function(data) {
        optionHTML = '';
        for (state of data.statecountry) {
            optionHTML += '<option value="' + state.iddesc +'">' + state.name + '</option>'
        }
        state_select.innerHTML = optionHTML;
        });
        });
    }
    </script>
</body>
{% endblock %}